<?xml version="1.0" encoding="UTF-8"?>
<!--
    Document   : cierres.xml
    Author     : Jonathan Guamba
    Description:
        Estructura de la tabla cierres.
-->
<tabla>
    <columna>
        <nombre>idcierre</nombre>
        <tipo>serial</tipo>
        <nulo>NO</nulo>
        <defecto>nextval('cierres_id_seq'::regclass)</defecto>
    </columna>
    <columna>
        <nombre>idempresa</nombre>
        <tipo>integer</tipo>
        <nulo>NO</nulo>
    </columna>
    <columna>
        <nombre>idcaja</nombre>
        <tipo>integer</tipo>
        <nulo>NO</nulo>
    </columna>
    <columna>
        <nombre>idestablecimiento</nombre>
        <tipo>integer</tipo>
        <nulo>NO</nulo>
    </columna>
    <columna>
        <nombre>nick</nombre>
        <tipo>character varying(25)</tipo>
        <nulo>NO</nulo>
    </columna>
    <columna>
        <nombre>inicial</nombre>
        <tipo>decimal(16, 2)</tipo>
        <nulo>NO</nulo>
        <defecto>0.00</defecto>
    </columna>
    <columna>
        <nombre>apertura</nombre>
        <tipo>timestamp without time zone</tipo>
        <nulo>NO</nulo>
    </columna>
    <columna>
        <nombre>cierre</nombre>
        <tipo>timestamp without time zone</tipo>
        <nulo>YES</nulo>
        <defecto>NULL</defecto>
    </columna>
    <columna>
        <nombre>m001</nombre>
        <tipo>integer</tipo>
        <nulo>NO</nulo>
        <defecto>0</defecto>
    </columna>
    <columna>
        <nombre>m005</nombre>
        <tipo>integer</tipo>
        <nulo>NO</nulo>
        <defecto>0</defecto>
    </columna>
    <columna>
        <nombre>m010</nombre>
        <tipo>integer</tipo>
        <nulo>NO</nulo>
        <defecto>0</defecto>
    </columna>
    <columna>
        <nombre>m025</nombre>
        <tipo>integer</tipo>
        <nulo>NO</nulo>
        <defecto>0</defecto>
    </columna>
    <columna>
        <nombre>m050</nombre>
        <tipo>integer</tipo>
        <nulo>NO</nulo>
        <defecto>0</defecto>
    </columna>
    <columna>
        <nombre>m1</nombre>
        <tipo>integer</tipo>
        <nulo>NO</nulo>
        <defecto>0</defecto>
    </columna>
    <columna>
        <nombre>b1</nombre>
        <tipo>integer</tipo>
        <nulo>NO</nulo>
        <defecto>0</defecto>
    </columna>
    <columna>
        <nombre>b5</nombre>
        <tipo>integer</tipo>
        <nulo>NO</nulo>
        <defecto>0</defecto>
    </columna>
    <columna>
        <nombre>b10</nombre>
        <tipo>integer</tipo>
        <nulo>NO</nulo>
        <defecto>0</defecto>
    </columna>
    <columna>
        <nombre>b20</nombre>
        <tipo>integer</tipo>
        <nulo>NO</nulo>
        <defecto>0</defecto>
    </columna>
    <columna>
        <nombre>b50</nombre>
        <tipo>integer</tipo>
        <nulo>NO</nulo>
        <defecto>0</defecto>
    </columna>
    <columna>
        <nombre>b100</nombre>
        <tipo>integer</tipo>
        <nulo>NO</nulo>
        <defecto>0</defecto>
    </columna>
    <columna>
        <nombre>totalemp</nombre>
        <tipo>decimal(16, 2)</tipo>
        <nulo>NO</nulo>
        <defecto>0.00</defecto>
    </columna>
    <columna>
        <nombre>totalmov</nombre>
        <tipo>decimal(16, 2)</tipo>
        <nulo>NO</nulo>
        <defecto>0.00</defecto>
    </columna>
    <columna>
        <nombre>diferencia</nombre>
        <tipo>decimal(16, 2)</tipo>
        <nulo>NO</nulo>
        <defecto>0.00</defecto>
    </columna>
    <columna>
        <nombre>fec_creacion</nombre>
        <tipo>date</tipo>
        <nulo>NO</nulo>
    </columna>
    <columna>
        <nombre>nick_creacion</nombre>
        <tipo>character varying(25)</tipo>
        <nulo>NO</nulo>
    </columna>
    <columna>
        <nombre>fec_modificacion</nombre>
        <tipo>date</tipo>
        <nulo>YES</nulo>
    </columna>
    <columna>
        <nombre>nick_modificacion</nombre>
        <tipo>character varying(25)</tipo>
        <nulo>YES</nulo>
    </columna>
    <restriccion>
        <nombre>cierres_pkey</nombre>
        <consulta>PRIMARY KEY (idcierre)</consulta>
    </restriccion>
    <restriccion>
        <nombre>fk_empresa_cierres</nombre>
        <consulta>FOREIGN KEY (idempresa) REFERENCES empresa (idempresa) ON DELETE CASCADE ON UPDATE CASCADE</consulta>
    </restriccion>
    <restriccion>
        <nombre>fk_cajas_cierres</nombre>
        <consulta>FOREIGN KEY (idcaja) REFERENCES cajas (idcaja) ON DELETE RESTRICT ON UPDATE CASCADE</consulta>
    </restriccion>
    <restriccion>
        <nombre>fk_establecimientos_cierres</nombre>
        <consulta>FOREIGN KEY (idestablecimiento) REFERENCES establecimiento (idestablecimiento) ON DELETE RESTRICT ON UPDATE CASCADE</consulta>
    </restriccion>
    <restriccion>
        <nombre>fk_users_cierres</nombre>
        <consulta>FOREIGN KEY (nick) REFERENCES users (nick) ON DELETE RESTRICT ON UPDATE CASCADE</consulta>
    </restriccion>
</tabla>